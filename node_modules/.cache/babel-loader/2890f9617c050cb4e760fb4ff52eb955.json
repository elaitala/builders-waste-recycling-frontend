{"ast":null,"code":"var _jsxFileName = \"/Users/elaitala/sei/github/builders-waste-recycling/BWR-frontend/src/components/Dashboard/Dashboard.js\";\nimport React from 'react';\nimport './Dashboard.css'; // import axios from 'axios';\n\nimport Table from 'react-bootstrap/Table';\n\nclass Dashboard extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      id: \"\",\n      jobName: [],\n      info: [],\n      status: \"\",\n      trailerTen: 0,\n      trailerFifteen: 0,\n      // Hardcoded number of TRAILERS\n      totalTen: 163,\n      totalFifteen: 59,\n      jobData: this.props.jobData\n    };\n\n    this.componentDidMount = () => {\n      this.trailerCount();\n    };\n\n    this.componentDidUpdate = prevProps => {\n      if (prevProps.jobData !== this.props.jobData) {\n        console.log('reRENDERING Dashboard...');\n        this.trailerCount();\n      }\n    };\n\n    this.trailerCount = () => {\n      console.log('TrailerCount...'); // let data = this.state.info\n\n      let data = this.props.jobData; // console.log('DATA', data)\n\n      let trailerTen = 0;\n      let trailerFifteen = 0;\n\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].trailer === 10) {\n          trailerTen++; // console.log('Adding Little')\n        } else if (data[i].trailer === 15) {\n          trailerFifteen++; // console.log('Adding Big');\n        }\n\n        if (i === data.length - 1) {\n          this.setState({\n            trailerFifteen,\n            trailerTen\n          });\n        }\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Table, {\n      className: \"col-sm-8\",\n      striped: true,\n      border: true,\n      hover: true,\n      responsive: \"sm\",\n      variant: \"dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Trailer\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Total\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Out\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Available\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"10 yd\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, this.state.totalTen), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, this.state.trailerTen), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, this.state.totalTen - this.state.trailerTen)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"15 yd\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, this.state.totalFifteen), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, this.state.trailerFifteen), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, this.state.totalFifteen - this.state.trailerFifteen)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Total\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, this.state.totalTen + this.state.totalFifteen), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, this.state.trailerTen + this.state.trailerFifteen), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, this.state.totalTen - this.state.trailerTen + this.state.totalFifteen - this.state.trailerFifteen))))));\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/elaitala/sei/github/builders-waste-recycling/BWR-frontend/src/components/Dashboard/Dashboard.js"],"names":["React","Table","Dashboard","Component","state","id","jobName","info","status","trailerTen","trailerFifteen","totalTen","totalFifteen","jobData","props","componentDidMount","trailerCount","componentDidUpdate","prevProps","console","log","data","i","length","trailer","setState","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Dashboard.css';\n// import axios from 'axios';\nimport Table from 'react-bootstrap/Table';\n\nclass Dashboard extends React.Component {\n\n  state = {\n    id: \"\",\n    jobName: [],\n    info: [],\n    status: \"\",\n    trailerTen: 0,\n    trailerFifteen: 0,\n    // Hardcoded number of TRAILERS\n    totalTen: 163,\n    totalFifteen: 59,\n    jobData: this.props.jobData\n  }\n\n  componentDidMount = () => {\n    \n    this.trailerCount()\n  }\n\n  componentDidUpdate = (prevProps) => {\n    if(prevProps.jobData !== this.props.jobData){\n      console.log('reRENDERING Dashboard...')\n      this.trailerCount();\n    }\n  }\n\n  // Counts TRAILERS of each kind in the field\n  trailerCount = () => {\n    console.log('TrailerCount...');\n    // let data = this.state.info\n    let data = this.props.jobData;\n    // console.log('DATA', data)\n    let trailerTen = 0;\n    let trailerFifteen = 0;\n    for (let i=0; i<data.length; i++){\n      if(data[i].trailer === 10){\n        trailerTen++;\n        // console.log('Adding Little')\n      } else if(data[i].trailer === 15){\n        trailerFifteen++;\n        // console.log('Adding Big');\n      }\n      if(i === data.length-1){\n        this.setState({\n          trailerFifteen, trailerTen\n        })\n      }\n    } \n  }\n  \n  render () {\n    return (\n      <>\n        <div>\n          <Table className=\"col-sm-8\" striped border hover responsive=\"sm\" variant=\"dark\">\n            <thead>\n              <tr>\n                <th>Trailer</th>\n                <th>Total</th>\n                <th>Out</th>\n                <th>Available</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>10 yd</td>\n                <td>{this.state.totalTen}</td>\n                <td>{this.state.trailerTen}</td>\n                <td>{this.state.totalTen-this.state.trailerTen}</td>\n              </tr>\n              <tr>\n                <td>15 yd</td>\n                <td>{this.state.totalFifteen}</td>\n                <td>{this.state.trailerFifteen}</td>\n                <td>{this.state.totalFifteen-this.state.trailerFifteen}</td>\n              </tr>\n              <tr>\n                <td>Total</td>\n                <td>{this.state.totalTen+this.state.totalFifteen}</td>\n                <td>{this.state.trailerTen+this.state.trailerFifteen}</td>\n                <td>{this.state.totalTen-this.state.trailerTen+this.state.totalFifteen-this.state.trailerFifteen}</td>\n              </tr>\n            </tbody>\n          </Table>\n        </div>\n      </>\n    )  \n  }\n}\n\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}